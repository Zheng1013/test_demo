{% extends "parts/navbar.html" %}
<div id="app2">
    <div class="cart">
        <h2>shopping cart</h2>
        <ul>
            <!-- 使用v-for指令遍历cartItems数组，并渲染每个产品的信息 -->
            <li v-for="item in cartItems " :key="item.id">
                <h3>{{ item.id}}</h3>
                <p>{{ item.url }}</p>
                <p>{{ item.name }}</p>
                <p>{{ item.color }}</p>
                <p>{{ item.type }}</p>
                <!-- 添加其他产品信息字段 -->
            </li>
        </ul>
    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
<script>
    const app2 = new Vue({
        el: '#app2',
        data: {
            cartItems: [] // 用于存储购物车中的产品信息
        },
            created () {
                // 使用Ajax或Fetch API从后端获取产品信息
                fetch('/get_cart_items')
                    .then(response => response.json())
                    .then(data => {
                        this.cartItems = data; // 更新Vue的cartItems数据
                        console.log(cartItems)
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });
        }
    });
</script>